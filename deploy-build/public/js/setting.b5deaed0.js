(self.webpackChunk_fiora_web=self.webpackChunk_fiora_web||[]).push([[314],{15136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var a=n(67294),r=n(14494),o=n(59936),c=n(76954),i=n(733),l=n.n(i),s=n(63144),u=n(57140),m=n(10676),d=n(28362),g=n(6547),p=n(94262),f=n(58600),v=n(21902),h=n(37034),b=n(93379),E=n.n(b),w=n(99443),x={insert:"head",singleton:!1};E()(w.Z,x);const k=w.Z.locals||{};var C=n(83778),y=n(93404),N=n(79879),S=n(60510);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);c=!0);}catch(e){i=!0,r=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function c(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}l((a=a.apply(e,t||[])).next())}))};const M=function(e){var t=e.visible,n=e.onClose,i=(0,h.Z)(),b=(0,r.v9)((function(e){return e.status.soundSwitch})),E=(0,r.v9)((function(e){return e.status.notificationSwitch})),w=(0,r.v9)((function(e){return e.status.voiceSwitch})),x=(0,r.v9)((function(e){return e.status.selfVoiceSwitch})),Z=(0,r.v9)((function(e){return e.status.sound})),M=(0,r.v9)((function(e){return e.status.theme})),z=(0,r.v9)((function(e){return e.status.primaryColor})),G=(0,r.v9)((function(e){return e.status.primaryTextColor})),U=(0,r.v9)((function(e){return e.status.backgroundImage})),F=(0,r.v9)((function(e){return e.status.aero})),A=(0,r.v9)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t._id})),R=(0,r.v9)((function(e){return e.status.tagColorMode})),P=(0,r.v9)((function(e){return e.status.enableSearchExpression})),H=I((0,a.useState)(!1),2),j=H[0],_=H[1];return a.createElement(p.Z,{className:"dialog ".concat(k.setting),visible:t,onClose:n},a.createElement(y.mQ,{defaultActiveKey:"default",renderTabBar:function(){return a.createElement(y.dG,null)},renderTabContent:function(){return a.createElement(y.I5,null)}},a.createElement(y.Jm,{tab:"功能",key:"function"},a.createElement("div",{className:"".concat(C.Z.container," ").concat(k.scrollContainer)},a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"开关"),a.createElement("div",{className:k.switchContainer},a.createElement("div",{className:k.switch},a.createElement("p",{className:k.switchText},"声音提醒"),a.createElement(o.default,{onChange:function(e){return i.setStatus("soundSwitch",e)},checked:b})),a.createElement("div",{className:k.switch},a.createElement("p",{className:k.switchText},"桌面提醒"),a.createElement(o.default,{onChange:function(e){return i.setStatus("notificationSwitch",e)},checked:E})),a.createElement("div",{className:k.switch},a.createElement("p",{className:k.switchText},"语音播报"),a.createElement(o.default,{onChange:function(e){return i.setStatus("voiceSwitch",e)},checked:w})),a.createElement("div",{className:k.switch},a.createElement("p",{className:k.switchText},"播报自己消息"),a.createElement(o.default,{onChange:function(e){return i.setStatus("selfVoiceSwitch",e)},checked:x})),a.createElement("div",{className:k.switch},a.createElement("p",{className:k.switchText},"根据输入内容推荐表情"),a.createElement(o.default,{onChange:function(e){return i.setStatus("enableSearchExpression",e)},checked:P})))),a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"提示音"),a.createElement("div",null,a.createElement(c.Ee,{className:k.radioGroup,value:Z,onChange:function(e){(0,g.Z)(e),i.setStatus("sound",e)},horizontal:!0},a.createElement(c.EU,{value:"default"},"默认"),a.createElement(c.EU,{value:"apple"},"苹果"),a.createElement(c.EU,{value:"pcqq"},"电脑QQ"),a.createElement(c.EU,{value:"mobileqq"},"手机QQ"),a.createElement(c.EU,{value:"momo"},"陌陌"),a.createElement(c.EU,{value:"huaji"},"滑稽")))),a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"标签颜色"),a.createElement("div",null,a.createElement(c.Ee,{className:k.TagModeRadioGroup,value:R,onChange:function(e){return i.setStatus("tagColorMode",e)},horizontal:!0},a.createElement(c.EU,{value:"singleColor"},"单一颜色"),a.createElement(c.EU,{value:"fixedColor"},"固定颜色"),a.createElement(c.EU,{value:"randomColor"},"随机颜色")))))),a.createElement(y.Jm,{tab:"主题",key:"theme"},a.createElement("div",{className:"".concat(C.Z.container," ").concat(k.scrollContainer)},a.createElement("div",{className:C.Z.block},a.createElement("div",null,a.createElement(c.Ee,{className:k.TagModeRadioGroup,value:M,onChange:function(e){return function(e){i.setStatus("theme",e);var t=S.Z[e];t?(i.setStatus("primaryColor",t.primaryColor),i.setStatus("primaryTextColor",t.primaryTextColor),i.setStatus("backgroundImage",t.backgroundImage),i.setStatus("aero",t.aero),(0,u.Z)(t.primaryColor,t.primaryTextColor),window.localStorage.removeItem(N.F.PrimaryColor),window.localStorage.removeItem(N.F.PrimaryTextColor),window.localStorage.removeItem(N.F.BackgroundImage),window.localStorage.removeItem(N.F.Aero),v.Z.success("已修改主题")):(window.localStorage.setItem(N.F.PrimaryColor,z),window.localStorage.setItem(N.F.PrimaryTextColor,G),window.localStorage.setItem(N.F.BackgroundImage,U),window.localStorage.setItem(N.F.Aero,F.toString()))}(e)},horizontal:!0},a.createElement(c.EU,{value:"default"},"默认"),a.createElement(c.EU,{value:"cool"},"清爽"),a.createElement(c.EU,{value:"custom"},"自定义")))),"custom"===M&&a.createElement(a.Fragment,null,a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"毛玻璃效果"),a.createElement("div",null,a.createElement(o.default,{onChange:function(e){return i.setStatus("aero",e)},checked:F}))),a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"背景图"," ",a.createElement("span",{className:k.backgroundTip},"背景图会被拉伸到浏览器窗口大小, 合理的比例会取得更好的效果")),a.createElement("div",{className:k.backgroundImageContainer},a.createElement("img",{className:"".concat(k.backgroundImage," ").concat(j?"blur":""),src:(0,d.uZ)(U),alt:"背景图预览",onClick:function(){return T(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,(0,m.Z)("blob","image/png,image/jpeg,image/gif");case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return");case 7:if(!(t.length>f.Z.maxBackgroundImageSize)){e.next=9;break}return e.abrupt("return",v.Z.error("设置背景图失败, 请选择小于3MB的图片"));case 9:return e.next=11,(0,d.ZP)(t.result,"BackgroundImage/".concat(A,"_").concat(Date.now(),".").concat(t.ext));case 11:n=e.sent,i.setStatus("backgroundImage",n);case 13:return e.prev=13,_(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])})))}}),a.createElement(l(),{className:"".concat(k.backgroundImageLoading," ").concat(j?"show":"hide"),type:"spinningBubbles",color:"rgb(".concat(z),height:100,width:100}))),s.e8&&a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"主题颜色"),a.createElement("div",{className:k.colorInfo},a.createElement("div",{style:{backgroundColor:"rgb(".concat(z,")")}}),a.createElement("span",null,"rgb(".concat(z,")"))),a.createElement(s.e8,{className:k.colorPicker,color:"rgb(".concat(z,")"),onChange:function(e){var t="".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b);i.setStatus("primaryColor",t),(0,u.Z)(t,G)}})),s.e8&&a.createElement("div",{className:C.Z.block},a.createElement("p",{className:C.Z.title},"文字颜色"),a.createElement("div",{className:k.colorInfo},a.createElement("div",{style:{backgroundColor:"rgb(".concat(G,")")}}),a.createElement("span",null,"rgb(".concat(G,")"))),a.createElement(s.e8,{className:k.colorPicker,color:"rgb(".concat(G,")"),onChange:function(e){var t="".concat(e.rgb.r,", ").concat(e.rgb.g,", ").concat(e.rgb.b);i.setStatus("primaryTextColor",t),(0,u.Z)(z,t)}})))))))}},99443:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(23645),r=n.n(a)()((function(e){return e[1]}));r.push([e.id,".setting--1KkfL .rc-dialog-body {\n  overflow-y: hidden;\n}\n.setting--1KkfL .rc-tabs-top {\n  border-bottom: none;\n}\n.switchContainer--3m6pY {\n  margin-bottom: 4px;\n  display: flex;\n  flex-wrap: wrap;\n}\n.button--3hgwh {\n  margin-right: 10px;\n  width: 130px;\n  height: 34px;\n}\n.switch--2C71F {\n  display: flex;\n  align-items: center;\n  margin-right: 10px;\n  margin-bottom: 8px;\n}\n.switchText--3xe_j {\n  color: #444;\n  margin-right: 8px;\n  font-size: 14px;\n}\n.radioGroup--2FEHa {\n  display: flex !important;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n.radioGroup--2FEHa > div {\n  width: 120px !important;\n  flex: initial !important;\n  padding: 12px !important;\n  margin-bottom: 6px !important;\n}\n.radioGroup--2FEHa > div > div {\n  display: flex;\n  align-items: center;\n}\n.radioGroup--2FEHa > div > div > div {\n  padding: 0 !important;\n  font-size: 14px;\n}\n.radioGroup--2FEHa > div > div > div > div {\n  -webkit-transform: translate(-2px, -2px);\n          transform: translate(-2px, -2px);\n}\n.backgroundTip--UHAGS {\n  font-size: 12px;\n  color: #777;\n}\n.backgroundImageContainer--3KvNH {\n  text-align: center;\n  position: relative;\n}\n.backgroundImage--3wzpU {\n  width: 98%;\n  height: auto;\n  cursor: pointer;\n}\n.backgroundImage--3wzpU:hover {\n  -webkit-filter: blur(3px);\n          filter: blur(3px);\n}\n.backgroundImage--3wzpU.blur--hDg1Y {\n  -webkit-filter: blur(3px);\n          filter: blur(3px);\n}\n.backgroundImageLoading--2uAOh {\n  position: absolute;\n  top: 70px;\n  left: 175px;\n  pointer-events: none;\n}\n.colorInfo--2dZz3 {\n  display: flex;\n  align-items: center;\n}\n.colorInfo--2dZz3 > div {\n  width: 30px;\n  height: 30px;\n  border-radius: 4px;\n  margin-left: 6px;\n}\n.colorInfo--2dZz3 > span {\n  margin-left: 12px;\n  color: #666;\n}\n.colorPicker--34kRf {\n  margin-top: 20px;\n}\n.TagModeRadioGroup--MzNMC > div {\n  width: 130px !important;\n  flex: initial !important;\n  padding: 12px !important;\n  margin-bottom: 6px !important;\n}\n.TagModeRadioGroup--MzNMC > div > div {\n  display: flex;\n  align-items: center;\n}\n.TagModeRadioGroup--MzNMC > div > div > div {\n  padding: 0 !important;\n  font-size: 14px;\n}\n.TagModeRadioGroup--MzNMC > div > div > div > div {\n  -webkit-transform: translate(-2px, -2px);\n          transform: translate(-2px, -2px);\n}\n.scrollContainer--1E8kY {\n  margin-top: 20px;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  max-height: 52vh;\n}\n",""]),r.locals={setting:"setting--1KkfL",switchContainer:"switchContainer--3m6pY",button:"button--3hgwh",switch:"switch--2C71F",switchText:"switchText--3xe_j",radioGroup:"radioGroup--2FEHa",backgroundTip:"backgroundTip--UHAGS",backgroundImageContainer:"backgroundImageContainer--3KvNH",backgroundImage:"backgroundImage--3wzpU",blur:"blur--hDg1Y",backgroundImageLoading:"backgroundImageLoading--2uAOh",colorInfo:"colorInfo--2dZz3",colorPicker:"colorPicker--34kRf",TagModeRadioGroup:"TagModeRadioGroup--MzNMC",scrollContainer:"scrollContainer--1E8kY"};const o=r}}]);